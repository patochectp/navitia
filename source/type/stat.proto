import "type.proto";
package pbnavitia.stat;
	
message StatParameter {
    optional string key = 1;
    optional string value = 2;    
}

message StatRequest {
    //POSIX time (i.e., number of seconds since January 1st 1970 00:00:00 UTC)    
    optional uint64	request_date = 1;
    optional int32	user_id = 2;
    optional string	user_name = 3;
    optional int32	application_id = 4;
    optional string	application_name = 5;
    optional int32	request_duration = 6;
    optional string	api = 7;
    optional string	query_string = 8;
    optional string	host = 9;
    optional int32	response_size = 10;
    optional string	region_id = 11;    
    optional string	client = 12;
    repeated StatParameter parameters = 13;
    repeated StatJourneyResponse journeys = 14;
}

message StatJourneyResponse {
    optional uint64 	requested_date_time = 1;
    optional uint64 	departure_date_time = 2;
    optional uint64 	arrival_date_time = 3;
    optional int32 	duration = 4;
    optional int32 	nb_transfers = 5;
    optional string 	type = 6;
    repeated StatJourneySection sections = 7;
}

message StatJourneySection {
    optional uint64 	departure_date_time = 1;
    optional uint64 	arrival_date_time = 2;
    optional int32 	duration = 3;
    optional string 	type = 4;
    optional string 	from_embedded_type = 5;
    optional string 	from_id = 6;
    optional GeographicalCoord from_coord = 7;
    optional string 	to_embedded_type = 8;
    optional string 	to_id = 9;
    optional GeographicalCoord to_coord = 10;
    optional string 	vehicle_journey_id = 11;
    optional string 	line_id = 12;
    optional string 	route_id = 13;
    optional string 	network_id = 14;
    optional string 	physical_mode_id = 15;
    optional string 	commercial_mode_id = 16;
}


